<!-- src/app/gallery/gallery.component.html -->

<!--
  Main gallery wrapper.
  We only render the list if "properties" is defined and not empty.
-->
<div class="wrap" *ngIf="properties && properties.length > 0; else empty">
  <!--
    One card per property.
    Clicking the card routes to /view/:panoId, which uses your existing
    full-screen Pannellum viewer.
  -->
 <a
  class="card"
  *ngFor="let p of properties"
  [routerLink]="['/property', p.id]"
>
  <!-- rest of the card stays the same -->
    <!-- Property thumbnail image -->
    <img
      class="thumb"
      [src]="p.thumbnail"
      [alt]="p.title"
      loading="lazy"
    />

    <!-- Text block under the image -->
    <div class="meta">
      <!-- Price formatted with Angular's DecimalPipe ("number" pipe) -->
      <div class="price">
        ${{ p.price | number:'1.0-0' }}
      </div>

      <!-- Main title and address line -->
      <h3 class="title">{{ p.title }}</h3>

      <p class="address">
        {{ p.address }}, {{ p.city }}
      </p>

      <!-- Small row of key stats: beds, baths, area -->
      <div class="stats">
        <span>{{ p.beds }} bd</span>
        <span>{{ p.baths }} ba</span>
        <span>{{ p.area }} m²</span>
      </div>

      <!-- Simple call-to-action -->
      <p class="cta">Open 360° view</p>
    </div>
  </a>
</div>

<!--
  Fallback UI if there are no properties.
  Angular will show this template when the *ngIf condition above is false.
-->
<ng-template #empty>
  <p class="empty">No properties found.</p>
</ng-template>
